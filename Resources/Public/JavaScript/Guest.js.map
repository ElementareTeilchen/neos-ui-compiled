{"version":3,"sources":["webpack:///./node_modules/lodash.debounce/index.js","webpack:///./packages/neos-ui-ckeditor-bindings/src/index.js","webpack:///./packages/neos-ui-ckeditor-bindings/src/guestFrameApi.js","webpack:///./packages/neos-ui-ckeditor-bindings/src/ckeditor/removeTags.js"],"names":["Object","defineProperty","window","value","guestFrameApi","enumerable","writable","configurable","noop","initialize","toggleFormat","createEditor","lastFormattingUnderCursorSerialized","createCKEditorAPI","CKEDITOR","console","error","editorConfig","currentEditor","handleUserInteractionCallbackFactory","formattingUnderCursor","keys","formattingRules","forEach","formattingRule","key","command","undefined","editor","getCommand","state","style","elementPath","checkActive","extractCurrentFormatFn","Error","formattingUnderCursorSerialized","JSON","stringify","setFormattingUnderCursor","disableAutoInline","assign","dtd","$editable","b","big","i","small","tt","abbr","acronym","cite","code","dfn","em","kbd","strong","samp","var","a","bdo","img","q","span","sub","sup","button","label","_editorConfig","values","plugins","plugin","initFn","formatting","formattingOptions","warn","execCommand","fire","operation","applyStyleFn","dom","finalOptions","propertyName","onChange","$inline","tagName","toLowerCase","containsBlockLevelChildren","slice","call","childNodes","some","childNode","$block","onClickRemoveTags","text","innerHTML","removeEventListener","addEventListener","contentEditable","inline","on","config","buttons","editorFeature","ui","create","addFeature","handleUserInteraction","event","editable","path","contains","contextEvent","cancel","once","setCurrentlyEditedPropertyName","getData","maxWait","filterRules","filter","fragment","htmlParser","fromHtml","writer","basicWriter","applyTo","writeHtml","getHtml","replace"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO,YAAY;AAC9B,WAAW,QAAQ;AACnB;AACA,WAAW,OAAO;AAClB;AACA,WAAW,QAAQ;AACnB;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,8CAA8C,kBAAkB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;ACxXA;;;;;;AAEAA,OAAOC,cAAP,CAAsBC,MAAtB,EAA8B,iBAA9B,EAAiD;AAC7CC,WAAOC,uBADsC;AAE7CC,gBAAY,KAFiC;AAG7CC,cAAU,KAHmC;AAI7CC,kBAAc;AAJ+B,CAAjD,E;;;;;;;;;;;;;;ACFA;;;;AACA;;;;;;AAEA,IAAMC,OAAO;AACTC,cADS,wBACI,CAAE,CADN;AAETC,gBAFS,0BAEM,CAAE,CAFR;AAGTC,gBAHS,0BAGM,CAAE;AAHR,CAAb;;AAMA;AACA;AACA,IAAIC,sCAAsC,EAA1C;;AAEA,IAAMC,oBAAoB,SAApBA,iBAAoB,WAAY;AAClC,QAAI,CAACC,QAAL,EAAe;AACXC,gBAAQC,KAAR,CAAc,qBAAd;;AAEA;AACA;A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","file":"JavaScript/Guest.js","sourcesContent":["/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/lodash.debounce/index.js\n// module id = 199\n// module chunks = 0 1","import guestFrameApi from './guestFrameApi';\n\nObject.defineProperty(window, 'NeosCKEditorApi', {\n    value: guestFrameApi,\n    enumerable: false,\n    writable: false,\n    configurable: true\n});\n\n\n\n// WEBPACK FOOTER //\n// ./packages/neos-ui-ckeditor-bindings/src/index.js","import debounce from 'lodash.debounce';\nimport removeTags from './ckeditor/removeTags';\n\nconst noop = {\n    initialize() {},\n    toggleFormat() {},\n    createEditor() {}\n};\n\n// We cache the \"formattingUnderCursor\"; to only emit events when it really changed.\n// As there is only a single cursor active at any given time, it is safe to do this caching here inside the singleton object.\nlet lastFormattingUnderCursorSerialized = '';\n\nconst createCKEditorAPI = CKEDITOR => {\n    if (!CKEDITOR) {\n        console.error('CKEditor not found!');\n\n        //\n        // Return noop to not break things\n        //\n        return noop;\n    }\n\n    // An object with the following keys:\n    // - globalRegistry\n    // - setFormattingUnderCursor\n    // - setCurrentlyEditedPropertyName\n    let editorConfig = null;\n    let currentEditor = null;\n\n    const handleUserInteractionCallbackFactory = editor => () => {\n        const formattingUnderCursor = {};\n        Object.keys(editorConfig.formattingRules).forEach(key => {\n            const formattingRule = editorConfig.formattingRules[key];\n\n            if (formattingRule.command !== undefined) {\n                if (!editor.getCommand(formattingRule.command)) {\n                    formattingUnderCursor[key] = false;\n                    return;\n                }\n\n                formattingUnderCursor[key] = editor.getCommand(formattingRule.command).state;\n                return;\n            }\n\n            if (formattingRule.style !== undefined) {\n                if (!editor.elementPath()) {\n                    formattingUnderCursor[key] = false;\n                    return;\n                }\n\n                const style = new CKEDITOR.style(formattingRule.style); // eslint-disable-line babel/new-cap\n\n                formattingUnderCursor[key] = style.checkActive(editor.elementPath(), editor);\n                return;\n            }\n\n            if (formattingRule.extractCurrentFormatFn) {\n                formattingUnderCursor[key] = formattingRule.extractCurrentFormatFn(editor, CKEDITOR);\n                return;\n            }\n\n            throw new Error(`\n                An error occured while checking a format in CK Editor.\n                The description parameter needs to either have a key \"command\",\n                a key \"style\", or a style \"extractCurrentFormatFn\" - none of which could be found.\n            `);\n        });\n\n        const formattingUnderCursorSerialized = JSON.stringify(formattingUnderCursor);\n        if (formattingUnderCursorSerialized !== lastFormattingUnderCursorSerialized) {\n            editorConfig.setFormattingUnderCursor(formattingUnderCursor);\n            lastFormattingUnderCursorSerialized = formattingUnderCursorSerialized;\n        }\n    };\n\n    //\n    // Perform global initialization tasks\n    //\n    CKEDITOR.disableAutoInline = true;\n\n    //\n    // Workaround as per http://stackoverflow.com/questions/14575036/enable-ckeditor4-inline-on-span-and-other-inline-tags\n    // The issue won't be fixed, we have to live with this...\n    //\n    Object.assign(CKEDITOR.dtd.$editable, {\n        b: true,\n        big: true,\n        i: true,\n        small: true,\n        tt: true,\n        abbr: true,\n        acronym: true,\n        cite: true,\n        code: true,\n        dfn: true,\n        em: true,\n        kbd: true,\n        strong: true,\n        samp: true,\n        var: true,\n        a: true,\n        bdo: true,\n        img: true,\n        q: true,\n        span: true,\n        sub: true,\n        sup: true,\n        button: true,\n        label: true\n    });\n\n    // Public (singleton) API for CK editor\n    return {\n        initialize(_editorConfig) {\n            editorConfig = _editorConfig;\n            Object.values(editorConfig.plugins).forEach(plugin => {\n                plugin.initFn(CKEDITOR);\n            });\n        },\n\n        toggleFormat(formatting, formattingOptions = {}) {\n            const formattingRule = editorConfig.formattingRules[formatting];\n            if (!formattingRule) {\n                console.warn(`Formatting instruction ${formatting} not found.`);\n                return;\n            }\n            if (!currentEditor) {\n                console.warn('Current editor not found!');\n                return;\n            }\n            if (formattingRule.command !== undefined) {\n                if (!currentEditor.getCommand(formattingRule.command)) {\n                    console.warn(`Command ${currentEditor} not found.`);\n                    return;\n                }\n\n                currentEditor.execCommand(formattingRule.command);\n                currentEditor.fire('change');\n                handleUserInteractionCallbackFactory(currentEditor)();\n                return;\n            }\n\n            if (formattingRule.style !== undefined) {\n                if (!currentEditor.elementPath()) {\n                    return;\n                }\n\n                const style = new CKEDITOR.style(formattingRule.style); // eslint-disable-line babel/new-cap\n                const operation = style.checkActive(currentEditor.elementPath(), currentEditor) ?\n                    'removeStyle' : 'applyStyle';\n\n                currentEditor[operation](style);\n                currentEditor.fire('change');\n                handleUserInteractionCallbackFactory(currentEditor)();\n                return;\n            }\n\n            if (formattingRule.applyStyleFn) {\n                formattingRule.applyStyleFn(formattingOptions, currentEditor, CKEDITOR);\n\n                currentEditor.fire('change');\n                handleUserInteractionCallbackFactory(currentEditor)();\n                return;\n            }\n\n            throw new Error(`\n                An error occured while applying a format in CK Editor.\n                The description parameter needs to either have a key \"command\",\n                \"style\", or \"applyFn\" - none of which could be found.\n            `);\n        },\n\n        createEditor(dom, finalOptions, propertyName, onChange) {\n            if (CKEDITOR.dtd.$inline[dom.tagName.toLowerCase()]) {\n                // If we are an inline element, CKEditor breaks if we contain block-level children\n                const containsBlockLevelChildren = [].slice.call(dom.childNodes).some(childNode => childNode.tagName && CKEDITOR.dtd.$block[childNode.tagName.toLowerCase()]);\n                if (containsBlockLevelChildren) {\n                    console.warn('The editable ', dom, ' of type <', dom.tagName.toLowerCase(), '> (which is an inline html element) contains block-level children (like p, div, ...). This is invalid markup and currently not supported by CKEditor; that is why we cannot edit it currently.');\n\n                    const onClickRemoveTags = () => {\n                        const text = removeTags(dom.innerHTML, CKEDITOR);\n                        dom.innerHTML = text;\n                        this.createEditor(dom, finalOptions, propertyName, onChange);\n\n                        dom.removeEventListener('click', onClickRemoveTags);\n                        // TODO FOCUS EDITOR directly - would be nice!\n                    };\n\n                    dom.addEventListener('click', onClickRemoveTags);\n                    return;\n                }\n            }\n            dom.contentEditable = 'true';\n\n            const editor = CKEDITOR.inline(dom, finalOptions);\n\n            editor.on('loaded', () => {\n                if (editor.config.buttons) {\n                    editor.config.buttons.forEach(button => {\n                        // The next two lines actually do the ACF auto-configuration\n                        const editorFeature = editor.ui.create(button);\n                        editor.addFeature(editorFeature);\n                    });\n                }\n            });\n\n            const handleUserInteraction = handleUserInteractionCallbackFactory(editor);\n\n            editor.on('contentDom', event => {\n                event.editor.editable().on('contextmenu', contextEvent => {\n                    const path = event.editor.elementPath();\n\n                    if (!path.contains('table')) {\n                        contextEvent.cancel();\n                    }\n                }, null, null, 5);\n            });\n\n            editor.once('contentDom', () => {\n                editor.on('focus', () => {\n                    currentEditor = editor;\n                    editorConfig.setCurrentlyEditedPropertyName(propertyName);\n\n                    handleUserInteraction();\n                });\n\n                editor.on('selectionChange', () => {\n                    handleUserInteraction();\n                });\n\n                editor.on('change', debounce(() => onChange(editor.getData()), 500, {maxWait: 5000}));\n            });\n        }\n    };\n};\n\nexport default createCKEditorAPI(window.CKEDITOR);\n\n\n\n// WEBPACK FOOTER //\n// ./packages/neos-ui-ckeditor-bindings/src/guestFrameApi.js","/* eslint babel/new-cap: 0 */\nexport default (text, CKEDITOR) => {\n    // 2) apply content filtering *with an empty filter rule set*; this will strip out:\n    //    - all attributes\n    //    - most tags (such as \"b\")\n    // For some reason, it does not strip out <p> Tags; not sure why...\n    const filterRules = {};\n    const filter = new CKEDITOR.filter(filterRules);\n    const fragment = CKEDITOR.htmlParser.fragment.fromHtml(text);\n    const writer = new CKEDITOR.htmlParser.basicWriter();\n    filter.applyTo(fragment);\n    fragment.writeHtml(writer);\n    text = writer.getHtml();\n\n    // 3) that's why we finally remove all remaining (opening and closing) tags with a regex.\n    return text.replace(/<\\/?[a-z0-9A-Z]+[^>]*>/g, '');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/neos-ui-ckeditor-bindings/src/ckeditor/removeTags.js"],"sourceRoot":""}